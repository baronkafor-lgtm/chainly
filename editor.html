<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chainly - Editor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Editor Specific Styles */
        .editor-header {
            height: 64px;
            background: var(--color-bg-surface);
            border-bottom: 1px solid var(--color-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 var(--spacing-lg);
        }

        .editor-layout {
            display: flex;
            height: calc(100vh - 64px);
            background: var(--color-bg-page);
        }

        .flow-sidebar {
            width: 320px;
            border-right: 1px solid var(--color-border);
            background: var(--color-bg-surface);
            padding: var(--spacing-lg);
            overflow-y: auto;
        }

        .config-panel {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
            display: flex;
            justify-content: center;
        }

        .config-container {
            width: 100%;
            max-width: 600px;
            background: var(--color-bg-surface);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-sm);
        }

        .step-card {
            background: white;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .step-card:hover {
            border-color: var(--color-primary);
            box-shadow: var(--shadow-sm);
        }

        .step-card.active {
            border-color: var(--color-primary);
            background: #FFF5F0;
            /* Light orange tint */
        }

        .step-connector {
            width: 2px;
            height: 16px;
            background: var(--color-border);
            margin: -16px auto 0;
            /* Pull up to connect */
            position: relative;
            z-index: 0;
        }

        /* Hide connector for first item */
        .step-card:first-child .step-connector {
            display: none;
        }
    </style>
</head>

<body>
    <!-- Editor Header -->
    <header class="editor-header">
        <div style="display: flex; align-items: center; gap: 16px;">
            <a href="app.html" class="btn btn-ghost btn-sm" style="padding: 0 8px;"><i data-lucide="arrow-left"></i></a>
            <div style="font-weight: 600; font-size: 18px;">Untitled Zap</div>
        </div>
        <div style="display: flex; gap: 12px;">
            <button class="btn btn-ghost btn-sm">Share</button>
            <button class="btn btn-primary btn-sm publish-btn">Publish</button>
        </div>
    </header>

    <div class="editor-layout">
        <!-- Left Sidebar: Flow -->
        <aside class="flow-sidebar">
            <div id="steps-container">
                <!-- Steps will be injected here -->
            </div>

            <button id="add-step-btn" class="btn btn-ghost"
                style="width: 100%; border: 1px dashed var(--color-border); justify-content: center; color: var(--color-text-subtle); margin-top: 16px;">
                <i data-lucide="plus"></i> Add Step
            </button>
        </aside>

        <!-- Config Panel -->
        <div class="config-panel">
            <div id="config-container" class="config-container">
                <!-- Dynamic Content Injected Here -->
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>